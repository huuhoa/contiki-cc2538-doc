<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Contiki 3.x: Rime buffer management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Contiki 3.x
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Rime buffer management<div class="ingroups"><a class="el" href="a00880.html">Communication stacks</a> &raquo; <a class="el" href="a00883.html">The Rime communication stack</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The packetbuf module does Rime's buffer management.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga7a3b189fd04b82463abb4117fdb26b67"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7a3b189fd04b82463abb4117fdb26b67"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00742.html#ga7a3b189fd04b82463abb4117fdb26b67">PACKETBUF_SIZE</a>&#160;&#160;&#160;128</td></tr>
<tr class="memdesc:ga7a3b189fd04b82463abb4117fdb26b67"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size of the packetbuf, in bytes. <br /></td></tr>
<tr class="separator:ga7a3b189fd04b82463abb4117fdb26b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf99c845894c567c1222a56be9c6cfe5b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf99c845894c567c1222a56be9c6cfe5b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00742.html#gaf99c845894c567c1222a56be9c6cfe5b">PACKETBUF_HDR_SIZE</a>&#160;&#160;&#160;48</td></tr>
<tr class="memdesc:gaf99c845894c567c1222a56be9c6cfe5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size of the packetbuf header, in bytes. <br /></td></tr>
<tr class="separator:gaf99c845894c567c1222a56be9c6cfe5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa540c9abf0db13d27881b616f7794824"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00742.html#gaa540c9abf0db13d27881b616f7794824">packetbuf_clear</a> (void)</td></tr>
<tr class="memdesc:gaa540c9abf0db13d27881b616f7794824"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear and reset the packetbuf.  <a href="#gaa540c9abf0db13d27881b616f7794824">More...</a><br /></td></tr>
<tr class="separator:gaa540c9abf0db13d27881b616f7794824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ed85aa3405fa87ed8b1e523dd374dcd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00742.html#ga9ed85aa3405fa87ed8b1e523dd374dcd">packetbuf_clear_hdr</a> (void)</td></tr>
<tr class="memdesc:ga9ed85aa3405fa87ed8b1e523dd374dcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear and reset the header of the packetbuf.  <a href="#ga9ed85aa3405fa87ed8b1e523dd374dcd">More...</a><br /></td></tr>
<tr class="separator:ga9ed85aa3405fa87ed8b1e523dd374dcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5fd9cb98f800733b6d9381bce81cd224"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00742.html#ga5fd9cb98f800733b6d9381bce81cd224">packetbuf_copyfrom</a> (const void *from, uint16_t len)</td></tr>
<tr class="memdesc:ga5fd9cb98f800733b6d9381bce81cd224"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy from external data into the packetbuf.  <a href="#ga5fd9cb98f800733b6d9381bce81cd224">More...</a><br /></td></tr>
<tr class="separator:ga5fd9cb98f800733b6d9381bce81cd224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39a862c119717560e224923801c1fa2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00742.html#ga39a862c119717560e224923801c1fa2a">packetbuf_compact</a> (void)</td></tr>
<tr class="memdesc:ga39a862c119717560e224923801c1fa2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compact the packetbuf.  <a href="#ga39a862c119717560e224923801c1fa2a">More...</a><br /></td></tr>
<tr class="separator:ga39a862c119717560e224923801c1fa2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac4b6f4ff134a21b6c2f726ca9342bb2f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00742.html#gac4b6f4ff134a21b6c2f726ca9342bb2f">packetbuf_copyto_hdr</a> (uint8_t *to)</td></tr>
<tr class="memdesc:gac4b6f4ff134a21b6c2f726ca9342bb2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the header portion of the packetbuf to an external buffer.  <a href="#gac4b6f4ff134a21b6c2f726ca9342bb2f">More...</a><br /></td></tr>
<tr class="separator:gac4b6f4ff134a21b6c2f726ca9342bb2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacad3b92ca8f9ce7845b6c490ba9f05bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00742.html#gacad3b92ca8f9ce7845b6c490ba9f05bf">packetbuf_copyto</a> (void *to)</td></tr>
<tr class="memdesc:gacad3b92ca8f9ce7845b6c490ba9f05bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the entire packetbuf to an external buffer.  <a href="#gacad3b92ca8f9ce7845b6c490ba9f05bf">More...</a><br /></td></tr>
<tr class="separator:gacad3b92ca8f9ce7845b6c490ba9f05bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacffe7341cbfe90034e829ea70111203a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00742.html#gacffe7341cbfe90034e829ea70111203a">packetbuf_hdralloc</a> (int size)</td></tr>
<tr class="memdesc:gacffe7341cbfe90034e829ea70111203a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extend the header of the packetbuf, for outbound packets.  <a href="#gacffe7341cbfe90034e829ea70111203a">More...</a><br /></td></tr>
<tr class="separator:gacffe7341cbfe90034e829ea70111203a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7d9d402f591a560b5502bc6c8bcbd20"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00742.html#gad7d9d402f591a560b5502bc6c8bcbd20">packetbuf_hdrreduce</a> (int size)</td></tr>
<tr class="memdesc:gad7d9d402f591a560b5502bc6c8bcbd20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reduce the header in the packetbuf, for incoming packets.  <a href="#gad7d9d402f591a560b5502bc6c8bcbd20">More...</a><br /></td></tr>
<tr class="separator:gad7d9d402f591a560b5502bc6c8bcbd20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga236b0d557fe119c39796432484c94b26"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00742.html#ga236b0d557fe119c39796432484c94b26">packetbuf_set_datalen</a> (uint16_t len)</td></tr>
<tr class="memdesc:ga236b0d557fe119c39796432484c94b26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the length of the data in the packetbuf.  <a href="#ga236b0d557fe119c39796432484c94b26">More...</a><br /></td></tr>
<tr class="separator:ga236b0d557fe119c39796432484c94b26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga29a6f3f230b55e6bc2f017879c27113a"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00742.html#ga29a6f3f230b55e6bc2f017879c27113a">packetbuf_dataptr</a> (void)</td></tr>
<tr class="memdesc:ga29a6f3f230b55e6bc2f017879c27113a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the data in the packetbuf.  <a href="#ga29a6f3f230b55e6bc2f017879c27113a">More...</a><br /></td></tr>
<tr class="separator:ga29a6f3f230b55e6bc2f017879c27113a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67c213a97ab9bdadddd90db1df0a3058"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00742.html#ga67c213a97ab9bdadddd90db1df0a3058">packetbuf_hdrptr</a> (void)</td></tr>
<tr class="memdesc:ga67c213a97ab9bdadddd90db1df0a3058"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the header in the packetbuf, for outbound packets.  <a href="#ga67c213a97ab9bdadddd90db1df0a3058">More...</a><br /></td></tr>
<tr class="separator:ga67c213a97ab9bdadddd90db1df0a3058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a1157b882c15f5ea05d64f81d37115d"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00742.html#ga4a1157b882c15f5ea05d64f81d37115d">packetbuf_datalen</a> (void)</td></tr>
<tr class="memdesc:ga4a1157b882c15f5ea05d64f81d37115d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the length of the data in the packetbuf.  <a href="#ga4a1157b882c15f5ea05d64f81d37115d">More...</a><br /></td></tr>
<tr class="separator:ga4a1157b882c15f5ea05d64f81d37115d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga591ff8749c8a62c45f4a32e38303ce5f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00742.html#ga591ff8749c8a62c45f4a32e38303ce5f">packetbuf_hdrlen</a> (void)</td></tr>
<tr class="memdesc:ga591ff8749c8a62c45f4a32e38303ce5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the length of the header in the packetbuf.  <a href="#ga591ff8749c8a62c45f4a32e38303ce5f">More...</a><br /></td></tr>
<tr class="separator:ga591ff8749c8a62c45f4a32e38303ce5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3cc486f4d4f837db11c6376bee07ebcb"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00742.html#ga3cc486f4d4f837db11c6376bee07ebcb">packetbuf_totlen</a> (void)</td></tr>
<tr class="memdesc:ga3cc486f4d4f837db11c6376bee07ebcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total length of the header and data in the packetbuf.  <a href="#ga3cc486f4d4f837db11c6376bee07ebcb">More...</a><br /></td></tr>
<tr class="separator:ga3cc486f4d4f837db11c6376bee07ebcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaace1fdbc02444a06c58aa379b44111aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00742.html#gaace1fdbc02444a06c58aa379b44111aa">packetbuf_holds_broadcast</a> (void)</td></tr>
<tr class="memdesc:gaace1fdbc02444a06c58aa379b44111aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the current packet is a broadcast.  <a href="#gaace1fdbc02444a06c58aa379b44111aa">More...</a><br /></td></tr>
<tr class="separator:gaace1fdbc02444a06c58aa379b44111aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The packetbuf module does Rime's buffer management. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaa540c9abf0db13d27881b616f7794824"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void packetbuf_clear </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear and reset the packetbuf. </p>
<p>This function clears the packetbuf and resets all internal state pointers (header size, header pointer, external data pointer). It is used before preparing a packet in the packetbuf. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="a00017.html#a13">example-collect.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="a00382_source.html#l00077">77</a> of file <a class="el" href="a00382_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00383_source.html#l00074">PACKETBUF_HDR_SIZE</a>.</p>

<p>Referenced by <a class="el" href="a00704_source.html#l00161">main()</a>, <a class="el" href="a00382_source.html#l00093">packetbuf_copyfrom()</a>, and <a class="el" href="a00510_source.html#l00947">PROCESS_THREAD()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9ed85aa3405fa87ed8b1e523dd374dcd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void packetbuf_clear_hdr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear and reset the header of the packetbuf. </p>
<p>This function clears the header of the packetbuf and resets all the internal state pointers pertaining to the header (header size, header pointer, but not external data pointer). It is used before after sending a packet in the packetbuf, to be able to reuse the packet buffer for a later retransmission. </p>

<p>Definition at line <a class="el" href="a00382_source.html#l00087">87</a> of file <a class="el" href="a00382_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00383_source.html#l00074">PACKETBUF_HDR_SIZE</a>.</p>

</div>
</div>
<a class="anchor" id="ga39a862c119717560e224923801c1fa2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void packetbuf_compact </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compact the packetbuf. </p>
<p>This function compacts the packetbuf by copying the data portion of the packetbuf so that becomes consecutive to the header.</p>
<p>This function is called by the Rime code before a packet is to be sent by a device driver. This assures that the entire packet is consecutive in memory. </p>

<p>Definition at line <a class="el" href="a00382_source.html#l00105">105</a> of file <a class="el" href="a00382_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00382_source.html#l00216">packetbuf_datalen()</a>, and <a class="el" href="a00383_source.html#l00074">PACKETBUF_HDR_SIZE</a>.</p>

</div>
</div>
<a class="anchor" id="ga5fd9cb98f800733b6d9381bce81cd224"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int packetbuf_copyfrom </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy from external data into the packetbuf. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">from</td><td>A pointer to the data from which to copy </td></tr>
    <tr><td class="paramname">len</td><td>The size of the data to copy </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>number of bytes that was copied into the packetbuf <pre class="fragment">        This function copies data from a pointer into the
        packetbuf. If the data that is to be copied is larger
        than the packetbuf, only the data that fits in the
        packetbuf is copied. The number of bytes that could be
        copied into the rimbuf is returned.</pre> </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="a00015.html#a14">example-broadcast.c</a>, <a class="el" href="a00019.html#a3">example-mesh.c</a>, <a class="el" href="a00021.html#a24">example-multihop.c</a>, <a class="el" href="a00029.html#a20">example-runicast.c</a>, <a class="el" href="a00031.html#a8">example-trickle.c</a>, and <a class="el" href="a00033.html#a9">example-unicast.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="a00382_source.html#l00093">93</a> of file <a class="el" href="a00382_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00382_source.html#l00077">packetbuf_clear()</a>, and <a class="el" href="a00383_source.html#l00065">PACKETBUF_SIZE</a>.</p>

</div>
</div>
<a class="anchor" id="gacad3b92ca8f9ce7845b6c490ba9f05bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int packetbuf_copyto </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>to</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy the entire packetbuf to an external buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">to</td><td>A pointer to the buffer to which the data is to be copied </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>number of bytes that was copied to the external buffer <pre class="fragment">        This function copies the packetbuf to an external
        buffer. Both the data portion and the header portion of
        the packetbuf is copied.

        The external buffer to which the packetbuf is to be
        copied must be able to accomodate at least
        (PACKETBUF_SIZE + PACKETBUF_HDR_SIZE) bytes. The number of
        bytes that was copied to the external buffer is
        returned.</pre> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00382_source.html#l00137">137</a> of file <a class="el" href="a00382_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00383_source.html#l00074">PACKETBUF_HDR_SIZE</a>, and <a class="el" href="a00383_source.html#l00065">PACKETBUF_SIZE</a>.</p>

</div>
</div>
<a class="anchor" id="gac4b6f4ff134a21b6c2f726ca9342bb2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int packetbuf_copyto_hdr </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>to</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy the header portion of the packetbuf to an external buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">to</td><td>A pointer to the buffer to which the data is to be copied </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>number of bytes that was copied to the external buffer <pre class="fragment">        This function copies the header portion of the packetbuf
        to an external buffer.

        The external buffer to which the packetbuf is to be
        copied must be able to accomodate at least
        PACKETBUF_HDR_SIZE bytes. The number of bytes that was
        copied to the external buffer is returned.</pre> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00382_source.html#l00120">120</a> of file <a class="el" href="a00382_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00383_source.html#l00074">PACKETBUF_HDR_SIZE</a>.</p>

</div>
</div>
<a class="anchor" id="ga4a1157b882c15f5ea05d64f81d37115d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t packetbuf_datalen </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the length of the data in the packetbuf. </p>
<dl class="section return"><dt>Returns</dt><dd>Length of the data in the packetbuf <pre class="fragment">        For outbound packets, the packetbuf consists of two
        parts: header and data. This function is used to get
        the length of the data in the packetbuf. The data is
        stored in the packetbuf and accessed via the
        packetbuf_dataptr() function.

        For incoming packets, both the packet header and the
        packet data is stored in the data portion of the
        packetbuf. This function is then used to get the total
        length of the packet - both header and data.</pre> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="a00017.html#a1">example-collect.c</a>, and <a class="el" href="a00019.html#a1">example-mesh.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="a00382_source.html#l00216">216</a> of file <a class="el" href="a00382_source.html">packetbuf.c</a>.</p>

<p>Referenced by <a class="el" href="a00382_source.html#l00105">packetbuf_compact()</a>, and <a class="el" href="a00382_source.html#l00237">packetbuf_totlen()</a>.</p>

</div>
</div>
<a class="anchor" id="ga29a6f3f230b55e6bc2f017879c27113a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * packetbuf_dataptr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the data in the packetbuf. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the packetbuf data <pre class="fragment">        This function is used to get a pointer to the data in
        the packetbuf. The data is either stored in the packetbuf,
        or referenced to an external location.

        For outbound packets, the packetbuf consists of two
        parts: header and data. The header is accessed with the
        packetbuf_hdrptr() function.

        For incoming packets, both the packet header and the
        packet data is stored in the data portion of the
        packetbuf. Thus this function is used to get a pointer to
        the header for incoming packets.</pre> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="a00015.html#a1">example-broadcast.c</a>, <a class="el" href="a00017.html#a2">example-collect.c</a>, <a class="el" href="a00019.html#a2">example-mesh.c</a>, <a class="el" href="a00021.html#a12">example-multihop.c</a>, and <a class="el" href="a00031.html#a2">example-trickle.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="a00382_source.html#l00204">204</a> of file <a class="el" href="a00382_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00383_source.html#l00074">PACKETBUF_HDR_SIZE</a>.</p>

<p>Referenced by <a class="el" href="a00704_source.html#l00161">main()</a>, and <a class="el" href="a00510_source.html#l00947">PROCESS_THREAD()</a>.</p>

</div>
</div>
<a class="anchor" id="gacffe7341cbfe90034e829ea70111203a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int packetbuf_hdralloc </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extend the header of the packetbuf, for outbound packets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The number of bytes the header should be extended </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Non-zero</td><td>if the header could be extended, zero otherwise <pre class="fragment">        This function is used to allocate extra space in the
        header portion in the packetbuf, when preparing outbound
        packets for transmission. If the function is unable to
        allocate sufficient header space, the function returns
        zero and does not allocate anything.</pre> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00382_source.html#l00169">169</a> of file <a class="el" href="a00382_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00383_source.html#l00065">PACKETBUF_SIZE</a>, and <a class="el" href="a00382_source.html#l00237">packetbuf_totlen()</a>.</p>

</div>
</div>
<a class="anchor" id="ga591ff8749c8a62c45f4a32e38303ce5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t packetbuf_hdrlen </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the length of the header in the packetbuf. </p>
<dl class="section return"><dt>Returns</dt><dd>Length of the header in the packetbuf <pre class="fragment">        For outbound packets, the packetbuf consists of two
        parts: header and data. This function is used to get
        the length of the header in the packetbuf. The header is
        stored in the packetbuf and accessed via the
        packetbuf_hdrptr() function.</pre> </dd></dl>

<p>Definition at line <a class="el" href="a00382_source.html#l00222">222</a> of file <a class="el" href="a00382_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00383_source.html#l00074">PACKETBUF_HDR_SIZE</a>.</p>

<p>Referenced by <a class="el" href="a00382_source.html#l00237">packetbuf_totlen()</a>.</p>

</div>
</div>
<a class="anchor" id="ga67c213a97ab9bdadddd90db1df0a3058"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * packetbuf_hdrptr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the header in the packetbuf, for outbound packets. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the packetbuf header <pre class="fragment">        For outbound packets, the packetbuf consists of two
        parts: header and data. This function is used to get a
        pointer to the header in the packetbuf. The header is
        stored in the packetbuf.</pre> </dd></dl>

<p>Definition at line <a class="el" href="a00382_source.html#l00210">210</a> of file <a class="el" href="a00382_source.html">packetbuf.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad7d9d402f591a560b5502bc6c8bcbd20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int packetbuf_hdrreduce </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reduce the header in the packetbuf, for incoming packets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The number of bytes the header should be reduced </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Non-zero</td><td>if the header could be reduced, zero otherwise <pre class="fragment">        This function is used to remove the first part of the
        header in the packetbuf, when processing incoming
        packets. If the function is unable to remove the
        requested amount of header space, the function returns
        zero and does not allocate anything.</pre> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00382_source.html#l00185">185</a> of file <a class="el" href="a00382_source.html">packetbuf.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaace1fdbc02444a06c58aa379b44111aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int packetbuf_holds_broadcast </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether the current packet is a broadcast. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>iff current packet is not a broadcast </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00382_source.html#l00301">301</a> of file <a class="el" href="a00382_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00333_source.html#l00066">linkaddr_cmp()</a>, and <a class="el" href="a00741.html#gaa8829a95f1d11a93a3ff75c8f5b2bffd">linkaddr_null</a>.</p>

<p>Referenced by <a class="el" href="a00335_source.html#l00084">anti_replay_was_replayed()</a>.</p>

</div>
</div>
<a class="anchor" id="ga236b0d557fe119c39796432484c94b26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void packetbuf_set_datalen </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>len</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the length of the data in the packetbuf. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">len</td><td>The length of the data <pre class="fragment">        For outbound packets, the packetbuf consists of two
        parts: header and data. This function is used to set
        the length of the data in the packetbuf.</pre> </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="a00017.html#a14">example-collect.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="a00382_source.html#l00197">197</a> of file <a class="el" href="a00382_source.html">packetbuf.c</a>.</p>

<p>Referenced by <a class="el" href="a00704_source.html#l00161">main()</a>, and <a class="el" href="a00510_source.html#l00947">PROCESS_THREAD()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3cc486f4d4f837db11c6376bee07ebcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t packetbuf_totlen </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the total length of the header and data in the packetbuf. </p>
<dl class="section return"><dt>Returns</dt><dd>Length of data and header in the packetbuf </dd></dl>

<p>Definition at line <a class="el" href="a00382_source.html#l00237">237</a> of file <a class="el" href="a00382_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00382_source.html#l00216">packetbuf_datalen()</a>, and <a class="el" href="a00382_source.html#l00222">packetbuf_hdrlen()</a>.</p>

<p>Referenced by <a class="el" href="a00382_source.html#l00169">packetbuf_hdralloc()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 27 2015 01:15:58 for Contiki 3.x by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
